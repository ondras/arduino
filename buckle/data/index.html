<!doctype html>
<html>
	<head>
		<meta name="viewport" content="width=device-width" />
		<meta charset="utf-8" />
		<title>Buckle control panel</title>
	</head>
	<body>
<script>
function showError(e) {
	alert(e.message);
}

function setFeature(feature) {
	fetch(`/feature?feature=${encodeURIComponent(feature)}`, {method:"POST"}).catch(showError);
}

function buildFeature(feature, label) {
	let button = document.createElement("button");
	button.textContent = label;
	button.addEventListener("click", e => setFeature(feature));
	return button;
}

document.body.appendChild(buildFeature("noop", "No-op"));
document.body.appendChild(buildFeature("blinker", "Blinker"));
		</script>
	</body>
</html>

